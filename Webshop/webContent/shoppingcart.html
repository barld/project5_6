<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>shopping cart</title>
</head>
<body>
    <ul id="app">
        <li v-for="cartLine in cartLines">
            {{cartLine.Amount}}x {{cartLine.Product.GameTitle}}
        </li>
    </ul>

    <script src="js/vue.js"></script>
    <script>
       
        var app = new Vue({
            el: '#app',
            data: {
                cartLines : []
            },
            created: function () {
                var xhr = new XMLHttpRequest();
                xhr.open("GET", "/api/shoppingcart");

                // The RequestHeader can be any, by the server accepted, file
                xhr.setRequestHeader('Content-type', "Application/JSON", true);


                // Function to fire off when the server has send a response
                xhr.onload = function () {
                    console.log(xhr.response);
                    app.cartLines = JSON.parse(xhr.response).CartLines;
                }

                xhr.send();
            }
        })

    </script>
    
</body>
</html>